{% extends 'base.html' %}

<!-- {% load easy_maps_tags %} -->

{% load humanize %}

{% block title %} | {{ listing.title }}{% endblock %}

{% block content %}
<section id="showcase-inner" class="text-white vertical-center">
    <div class="overlay"></div>
    <div class="container-fluid">
        <div class="row text-center">
            <div class="col-md-12 ">
                <h1 class="isplay-4 font-weight-bold">{{ listing.title }}</h1>
                <h4 class="lead">
                    <i class="fas fa-map-marker"></i>{{ listing.neighborhood }}</h4>
            </div>
        </div>
    </div>
</section>

<section id="top-bar" class="p-3">
    <div class="container">
        <div class="row">
            <div class="col-1 p-0">
                <a href="{% url 'search' %}" id="back">
                    <div class="btn back-btn rounded-0">
                        <i class="fas fa-arrow-left fa-2x">
                        </i>
                    </div>
                </a>
            </div>
            <div class="col-11 col-md-6 text-center p-0">
                <h4>{{ listing.title }}</h4>
                <h5 class="font-weight-light">{{ listing.property_address }}</h5>
            </div>
            <div class="col-md-4 d-none d-md-block text-center">
                <h4>Developer Logo</h4>
            </div>
            <div class="col-md-1 d-none d-md-block">
                <i class="far fa-heart fa-4x"></i>
            </div>
        </div>
    </div>
</section>

<!-- Info -->
<section id="property-info" class="pb-0">
    <div class='container listing-info d-none d-md-block'>
        <div class="row justify-content-center align-items-center">
            <div class="col-3 text-center px-0">
                <h5>1 Bedroom <span class="font-weight-light">$1000-1250</span></h5>
            </div>
            <div class="col-3 text-center px-0">
                <h5>2 Bedroom <span class="font-weight-light">$1400-1800</span></h5>
            </div>
            <div class="col-3 text-center px-0">
                <h5>3 Bedroom <span class="font-weight-light">$2000-2250</span></h5>
            </div>
        </div>
    </div>
</section>

<!-- Listing -->
<section id="listing" class="pt-0">
    <div class="container">
        <div class="row">
            <div class="col-md-8 p-0">
                <div id="imgCarousel" class="carousel slide">
                    <!-- main slider carousel items -->
                    <div class="carousel-inner">
                        <div class="active item carousel-item" data-slide-number="0">
                            <img src="{{ listing.photo_main.url }}" class="img-fluid">
                        </div>
                        <div class="item carousel-item" data-slide-number="1">
                            <img src="{{ listing.photo_1.url }}" class="img-fluid">
                        </div>
                        <div class="item carousel-item" data-slide-number="2">
                            <img src="{{ listing.photo_2.url }}" class="img-fluid">
                        </div>
                        <a class="carousel-control-prev" href="#imgCarousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#imgCarousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    <!-- main slider carousel nav controls -->

                    <div class="row d-flex flex-nowrap m-0">
                        <ul class="carousel-indicators">
                            <li class="list-inline-item active" data-slide-to="0" data-target="#imgCarousel">
                                <a id="carousel-selector-0" class="selected">
                                    <img src="{{ listing.photo_main.url }}" class="img-fluid">
                                </a>
                            </li>
                            <li class="list-inline-item" data-slide-to="1" data-target="#imgCarousel">
                                <a id="carousel-selector-1">
                                    <img src="{{ listing.photo_1.url }}" class="img-fluid">
                                </a>
                            </li>
                            <li class="list-inline-item" data-slide-to="2" data-target="#imgCarousel">
                                <a id="carousel-selector-2">
                                    <img src="{{ listing.photo_2.url }}" class="img-fluid">
                                </a>
                            </li>
                            <!-- <li class="list-inline-item" data-slide-to="3" data-target="#imgCarousel">
                                <a id="carousel-selector-3">
                                    <img src="{{ listing.photo_4.url }}" class="img-fluid">
                                </a>
                            </li>
                            <li class="list-inline-item" data-slide-to="4" data-target="#imgCarousel">
                                <a id="carousel-selector-3">
                                    <img src="{{ listing.photo_5.url }}" class="img-fluid">
                                </a>
                            </li>
                            <li class="list-inline-item" data-slide-to="5" data-target="#imgCarousel">
                                <a id="carousel-selector-3">
                                    <img src="{{ listing.photo_6.url }}" class="img-fluid">
                                </a>
                            </li> -->
                        </ul>
                    </div>
                </div>
                <!-- Home Main Image -->
                <!-- <img src="{{ listing.photo_main.url }}" alt="" class="img-main img-fluid mb-3"> -->
                <!-- Thumbnails -->
                <!-- <div class="row mb-5 thumbs">
                    {% if listing.photo_1 %}
                    <div class="col-md-2">
                        <a href="{{ listing.photo_1.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_1.url }}" alt="" class="img-fluid">
                        </a>
                    </div>
                    {% endif %}
                    {% if listing.photo_2 %}
                    <div class="col-md-2">
                        <a href="{{ listing.photo_2.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_2.url }}" alt="" class="img-fluid">
                        </a>
                    </div>
                    {% endif %}
                    {% if listing.photo_3 %}
                    <div class="col-md-2">
                        <a href="a{{ listing.photo_3.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_3.url }}" alt="" class="img-fluid">
                        </a>
                    </div>
                    {% endif %}
                    {% if listing.photo_4 %}
                    <div class="col-md-2">
                        <a href="{{ listing.photo_4.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_4.url }}" alt="" class="img-fluid">
                        </a>
                    </div>
                    {% endif %}
                    {% if listing.photo_5 %}
                    <div class="col-md-2">
                        <a href="{{ listing.photo_5.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_5.url }}" alt="" class="img-fluid">
                        </a>
                    </div>
                    {% endif %}
                    {% if listing.photo_6 %}
                    <div class="col-md-2">
                        <a href="{{ listing.photo_6.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_6.url }}" alt="" class="img-fluid">
                        </a>
                    </div>
                    {% endif %}
                </div> -->
                <!-- Fields -->
                <div class="container">
                    <div class="row mb-5 fields">
                        <div class="col-md-6">
                            <ul class="list-group list-group-flush text-black-50">
                                <li class="list-group-item">
                                    Asking Price:
                                    <span class="float-right">${{ listing.price | intcomma }}</span>
                                </li>
                                <li class="list-group-item">
                                    Bedrooms:
                                    <span class="float-right">{{ listing.bathrooms }}</span>
                                </li>
                                <li class="list-group-item">
                                    Bathrooms:
                                    <span class="float-right">{{ listing.bathrooms }}</span>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-group list-group-flush text-black-50">
                                <li class="list-group-item">
                                    Square Feet:
                                    <span class="float-right">{{ listing.sqft }}</span>
                                </li>
                                <li class="list-group-item">
                                    Garage:
                                    <span class="float-right">{{ listing.garage }}
                                    </span>
                                </li>
                                <li class="list-group-item">
                                    <i class="fas fa-bed"></i> Realtor:
                                    <span class="float-right">{{ listing.developer }}
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>


                <!-- Description -->
                <div class="row mb-5">
                    <div class="container">
                        <div class="col-md-12">
                            {{ listing.description }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="row d-none d-md-block" id='contact-form'>
                    <div class="card-title text-center w-100 mb-0 py-3 color1 border-0 text-white">
                        <h2 class="mb-0"><i class="fas fa-phone"></i> {{ listing.developer.phone }}</h2>
                    </div>
                    <div class="col-12 color3 py-3">
                        <div class="form-group m-0">
                            <form action="{% url 'contact' %}" method="POST">
                                {% csrf_token %}
                                {% if user.is_authenticated %}
                                <input type="hidden" name="user_id" value="{{ user.id }}">
                                {% else %}
                                <input type="hidden" name="user_id" value="0">
                                {% endif %}
                                <input type="hidden" name="realtor_email" value="{{ listing.developer.email }}">
                                <input type="hidden" name="listing_id" value="{{ listing.id }}">
                                <input type="hidden" name="listing" class="form-control rounded-0"
                                    value="{{ listing.title }}">
                                <div class="form-group">
                                    <input type="text" name="name" class="form-control rounded-0" placeholder="Name"
                                        {% if user.is_authenticated %}
                                        value="{{ user.first_name }} {{ user.last_name }}" {% endif %} required>
                                </div>
                                <div class="form-group">
                                    <input type="email" name="email" class="form-control rounded-0"
                                        placeholder="Email Address" {% if user.is_authenticated %}
                                        value="{{ user.email }}" {% endif %} required>
                                </div>
                                <div class="form-group">
                                    <input type="text" name="phone" placeholder="Phone Number"
                                        class="form-control rounded-0">
                                </div>
                                <div class="form-group mb-2">
                                    <textarea name="message" class="form-control rounded-0"
                                        placeholder="Enter Your Message"></textarea>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                                    <label class="form-check-label text-muted" for="defaultCheck1">
                                        Schedule a tour
                                    </label>
                                    <br>
                                    <input class="form-check-input" type="checkbox" value="" id="defaultCheck2">
                                    <label class="form-check-label text-muted" for="defaultCheck2">
                                        Confirm Availibity
                                    </label>
                                </div>
                                <input type="submit" value="Send Message" class="btn btn-block color1 text-white">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}